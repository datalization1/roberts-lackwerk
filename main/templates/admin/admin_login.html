{% extends "base.html" %}
{% load static %}

{% block body_class %}page-admin-login{% endblock %}
{% block nav %}{% endblock %}

{% block content %}
<section class="admin-login">
  <div class="admin-login__shell">
    <header class="admin-login__header">
      <div class="admin-login__logo">
        <img src="{% static 'img/RL_logo2.png' %}" alt="Robert's Lackwerk">
      </div>
      <div class="admin-login__intro">
        <p class="admin-login__eyebrow">Interner Bereich</p>
        <h1>Admin Login</h1>
        <p>Bitte melden Sie sich an, um fortzufahren.</p>
      </div>
    </header>

    <div class="admin-login__card">
      {% if error_message %}
        <div class="admin-login__alert" role="alert">
          {{ error_message }}
        </div>
      {% endif %}

      <form method="post" class="admin-login__form">
        {% csrf_token %}
        <div class="admin-login__field">
          <label for="{{ form.username.id_for_label }}">Benutzername</label>
          {{ form.username }}
        </div>
        <div class="admin-login__field">
          <label for="{{ form.password.id_for_label }}">Passwort</label>
          <div class="admin-login__password">
            {{ form.password }}
            <button type="button" class="admin-login__toggle" id="toggle-password">Anzeigen</button>
          </div>
        </div>
        <div class="admin-login__actions">
          <a class="admin-login__back" href="{% url 'home' %}">Zur√ºck zur Startseite</a>
          <button type="submit" class="admin-login__submit">Anmelden</button>
        </div>
      </form>
    </div>
  </div>
</section>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('toggle-password');
    const input = document.getElementById('{{ form.password.id_for_label }}');
    if (!toggle || !input) return;
    toggle.addEventListener('click', () => {
      const next = input.type === 'password' ? 'text' : 'password';
      input.type = next;
      toggle.textContent = next === 'password' ? 'Anzeigen' : 'Verbergen';
    });
  });
</script>
{% endblock %}
