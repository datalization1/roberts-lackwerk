{% extends "base.html" %}

{% block body_class %}page-gold{% endblock %}

{% block content %}
<section class="rl-wizard">
  <!-- Header -->
  <header class="rl-wizard-header">
    <a href="{% url 'booking_review' %}" class="rl-back-link">‚Üê Zur√ºck zur √úbersicht</a>
    <h1 class="rl-wizard-title">Zahlung</h1>
    <p class="rl-wizard-subtitle">W√§hlen Sie Ihre Zahlungsmethode.</p>
  </header>

  <!-- Progress Card -->
  <section class="rl-wizard-card rl-wizard-card--progress">
    <div class="rl-stepper">
      <div class="rl-stepper__item is-active">
        <span class="rl-stepper__label">Mietdetails</span>
        <span class="rl-stepper__bar"><span class="rl-stepper__bar-fill"></span></span>
      </div>
      <div class="rl-stepper__item is-active">
        <span class="rl-stepper__label">Kundendaten</span>
        <span class="rl-stepper__bar"><span class="rl-stepper__bar-fill"></span></span>
      </div>
      <div class="rl-stepper__item is-active">
        <span class="rl-stepper__label">Zusatzoptionen</span>
        <span class="rl-stepper__bar"><span class="rl-stepper__bar-fill"></span></span>
      </div>
      <div class="rl-stepper__item is-active">
        <span class="rl-stepper__label">√úberpr√ºfung</span>
        <span class="rl-stepper__bar"><span class="rl-stepper__bar-fill"></span></span>
      </div>
      <div class="rl-stepper__item is-active">
        <span class="rl-stepper__label">Zahlung</span>
        <span class="rl-stepper__bar"><span class="rl-stepper__bar-fill"></span></span>
      </div>
    </div>
  </section>

  <!-- Payment Card -->
  <section class="rl-wizard-card">
    <header class="rl-wizard-card__header">
      <h2 class="rl-card__title">Zahlung</h2>
      <p class="rl-card__subtitle">W√§hlen Sie Ihre Zahlungsmethode und schlie√üen Sie die Buchung ab.</p>
    </header>

    <form method="post" class="rl-wizard-body">
      {% csrf_token %}

      <!-- Zahlungsmethode w√§hlen -->
      <div class="rl-payment-section">
        <h3 class="rl-review-title">Zahlungsmethode w√§hlen</h3>
        <div class="rl-payment-methods">
          <label class="rl-payment-card">
            <input id="payment_cash" type="radio" name="payment_method" value="CASH" class="rl-payment-card__input" checked>
            <div class="rl-payment-card__inner">
              <div class="rl-payment-card__icon">üíµ</div>
              <div class="rl-payment-card__body">
                <div class="rl-payment-card__title">Barzahlung</div>
                <div class="rl-payment-card__text">Bezahlen Sie bei Abholung in bar</div>
                <div class="rl-payment-card__hint">Zahlung bei Fahrzeug√ºbernahme</div>
              </div>
            </div>
          </label>
        </div>
      </div>

      <!-- Gesamtbetrag -->
      <div class="rl-review-summary rl-review-summary--compact">
        <div class="rl-review-summary-row rl-review-summary-row--total">
          <span>Gesamtbetrag</span>
          <span>{% if total_price %}CHF {{ total_price }}{% else %}CHF ‚Äì{% endif %}</span>
        </div>
      </div>

      <!-- Footer Buttons -->
      <footer class="rl-wizard-footer">
        <a href="{% url 'booking_review' %}" class="btn rl-btn-secondary">‚Üê Zur√ºck</a>
        <button type="submit" class="btn rl-btn-primary">Buchung abschlie√üen{% if total_price %} (CHF {{ total_price }}){% endif %}</button>
      </footer>
    </form>
  </section>
</section>
{% endblock %}
