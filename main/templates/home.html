{% extends "base.html" %}
{% load static %}

{% block body_class %}page-home{% endblock %}

{% block content %}
<div class="figma-home figma-home--landing">
  <section class="fig-hero">
    <div class="fig-hero__bg"></div>
    <div class="fig-hero__inner">
      <div class="fig-hero__content">
        <h1>Professionelle Karosseriereparatur &amp; Transporter-Vermietung</h1>
        <p class="fig-subtitle">Fachkundige Lackiererei für unfallbeschädigte Fahrzeuge und zuverlässige Umzugstransporter in der Schweiz</p>
        <div class="fig-hero__actions">
          <a class="fig-btn fig-btn--primary" href="{% url 'schaden_melden' %}">Schaden melden</a>
          <a class="fig-btn fig-btn--ghost" href="{% url 'mietfahrzeuge' %}">Transporter mieten</a>
        </div>
        <div class="fig-hero__scroll" aria-hidden="true">
          <span class="fig-hero__scroll-dot"></span>
        </div>
      </div>
    </div>
  </section>

  <section class="fig-section">
    <header class="fig-section__head">
      <h2>Unsere Dienstleistungen</h2>
      <p>Umfassende Autoreparatur- und Vermietungslösungen nach Ihren Bedürfnissen</p>
    </header>
    <div class="fig-grid fig-grid--4">
      {% if not use_homepage_services or "Karosseriereparatur" in homepage_service_names %}
      <a class="fig-card fig-card--link" href="{% url 'schaden_melden' %}">
        <div class="fig-icon"><i data-lucide="car"></i></div>
        <h3>Karosseriereparatur</h3>
        <p>Professionelle Instandsetzung von Unfallschäden an der Karosserie.</p>
        <ul>
          <li>Unfallschadenbehebung</li>
          <li>Dellenentfernung</li>
          <li>Restauration</li>
          <li>Rahmenrichtarbeiten</li>
        </ul>
      </a>
      {% endif %}
      {% if not use_homepage_services or "Autolackierung" in homepage_service_names %}
      <a class="fig-card fig-card--link" href="{% url 'dienstleistungen' %}">
        <div class="fig-icon"><i data-lucide="paintbrush"></i></div>
        <h3>Autolackierung</h3>
        <p>Fachgerechte Lackierarbeiten mit modernster Technik und Präzision.</p>
        <ul>
          <li>Professionelle Lackierung</li>
          <li>Spot-Reparaturen</li>
          <li>Vollständige Neulackierung</li>
          <li>Farbmischung nach Werksangaben</li>
        </ul>
      </a>
      {% endif %}
      {% if not use_homepage_services or "Transporter-Vermietung" in homepage_service_names %}
      <a class="fig-card fig-card--link" href="{% url 'mietfahrzeuge' %}">
        <div class="fig-icon"><i data-lucide="truck"></i></div>
        <h3>Transporter-Vermietung</h3>
        <p>Zuverlässige Umzugs-Transporter für jeden Bedarf.</p>
        <ul>
          <li>Flexible Mietdauer</li>
          <li>Moderne Fahrzeuge</li>
          <li>Kilometerpakete</li>
          <li>Versicherung inklusive</li>
        </ul>
      </a>
      {% endif %}
      {% if not use_homepage_services or "Versicherungsabwicklung" in homepage_service_names %}
      <a class="fig-card fig-card--link" href="{% url 'schaden_melden' %}">
        <div class="fig-icon"><i data-lucide="shield-check"></i></div>
        <h3>Versicherungsabwicklung</h3>
        <p>Direkte Zusammenarbeit mit allen grossen Versicherungen.</p>
        <ul>
          <li>Direktabrechnung mit Versicherungen</li>
          <li>Schadensgutachten</li>
          <li>Ersatzfahrzeug-Service</li>
          <li>Dokumentation nach Schweizer Standards</li>
        </ul>
      </a>
      {% endif %}
    </div>
  </section>

  <section class="fig-section fig-section--alt fig-section--centered fig-section--full">
    <header class="fig-section__head">
      <h2>Warum uns wählen</h2>
    </header>
    <div class="fig-usp-row">
      <article class="fig-usp">
        <div class="fig-usp__icon"><i data-lucide="award"></i></div>
        <h3>Erfahrene Fachkräfte</h3>
        <p>Über 20 Jahre Erfahrung in Karosserie- und Lackierarbeiten.</p>
      </article>
      <article class="fig-usp">
        <div class="fig-usp__icon"><i data-lucide="clock-3"></i></div>
        <h3>Schnelle Bearbeitung</h3>
        <p>Durchschnittliche Bearbeitungszeit: 3–5 Tage.</p>
      </article>
      <article class="fig-usp">
        <div class="fig-usp__icon"><i data-lucide="file-text"></i></div>
        <h3>Schweizer Gesetz konform</h3>
        <p>Alle Dokumentationen und Prozesse entsprechen den Schweizer Rechtsvorschriften.</p>
      </article>
    </div>
  </section>

  <section class="fig-cta fig-cta--full">
    <div class="fig-cta__inner">
      <h2>Bereit loszulegen?</h2>
      <p>Reichen Sie noch heute eine Schadenmeldung ein oder buchen Sie einen Transporter für Ihren nächsten Umzug.</p>
      <div class="fig-hero__actions">
        <a class="fig-btn fig-btn--primary" href="{% url 'schaden_melden' %}">Schaden melden</a>
        <a class="fig-btn fig-btn--ghost" href="{% url 'mietfahrzeuge' %}">Transporter buchen</a>
      </div>
    </div>
  </section>

  <a class="fig-whatsapp-fab"
     href="https://wa.me/41763290205?text=Hallo%20Roberts%20Lackwerk"
     target="_blank"
     rel="noopener noreferrer"
     aria-label="WhatsApp Chat starten"
     data-whatsapp-confirm="1">
    <span class="fig-whatsapp-fab__icon" aria-hidden="true">
      <svg viewBox="0 0 24 24" width="32" height="32" role="presentation" focusable="false" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 11.5a8.38 8.38 0 0 1-1.9 5.4 8.5 8.5 0 0 1-6.6 3.1 8.38 8.38 0 0 1-3.9-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 3.1-6.6 8.38 8.38 0 0 1 5.4-1.9h.5a8.48 8.48 0 0 1 8 8z"></path>
      </svg>
    </span>
  </a>

  <div class="fig-whatsapp-modal" data-whatsapp-modal aria-hidden="true">
    <div class="fig-whatsapp-modal__backdrop" data-whatsapp-close></div>
    <div class="fig-whatsapp-modal__panel" role="dialog" aria-modal="true" aria-labelledby="whatsapp-title">
      <h3 id="whatsapp-title">Zu WhatsApp wechseln?</h3>
      <p>Sie werden zu WhatsApp weitergeleitet, um den Chat zu starten.</p>
      <div class="fig-whatsapp-modal__actions">
        <button class="fig-btn fig-btn--ghost" type="button" data-whatsapp-close>Abbrechen</button>
        <a class="fig-btn fig-btn--primary" href="https://wa.me/41763290205?text=Hallo%20Roberts%20Lackwerk" target="_blank" rel="noopener noreferrer">Weiter</a>
      </div>
    </div>
  </div>

</div>
<script>
document.addEventListener('DOMContentLoaded', function () {
  var waLink = document.querySelector('.fig-whatsapp-fab[data-whatsapp-confirm="1"]');
  var modal = document.querySelector('[data-whatsapp-modal]');
  var closeButtons = document.querySelectorAll('[data-whatsapp-close]');
  if (!waLink || !modal) return;
  waLink.addEventListener('click', function (event) {
    event.preventDefault();
    modal.classList.add('is-open');
    modal.setAttribute('aria-hidden', 'false');
  });
  closeButtons.forEach(function (btn) {
    btn.addEventListener('click', function () {
      modal.classList.remove('is-open');
      modal.setAttribute('aria-hidden', 'true');
    });
  });
});
</script>
{% endblock %}
